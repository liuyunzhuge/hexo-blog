<!DOCTYPE html>
<html>
<head>
    <title>01</title>
    <script type="text/javascript" src="../lib/vue.js"></script>
</head>
<body>
<div id="vue">
<google-map>
    <google-map-region>
        <google-map-markers></google-map-markers>
    </google-map-region>
</google-map>
</div>

<script type="text/javascript">
    Vue.component('google-map', {
        data(){
            return {}
        },
        provide: {
            getMap: function () {
                return {
                    render(){
                        return 'render';
                    }
                };
            }
        },
        template: `<div><slot></slot></div>`
    });

    Vue.component('google-map-region', {
        data(){
            return {}
        },
        inject: ['getMap'],
        template: `<div><slot></slot></div>`
    });

    Vue.component('google-map-markers', {
        data(){
            return {}
        },
        inject: ['getMap'],
        template: `<div>{{getMap().render()}}</div>`
    });

    let vue = new Vue({
        data: {
        },
        el: '#vue'
    });
</script>
</body>
</html>
